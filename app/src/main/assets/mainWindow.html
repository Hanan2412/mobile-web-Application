<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main Window</title>
    <link rel="stylesheet" type="text/css" href="mainWindowCss.css"/>
    <script type="text/javascript" src="mainWindowjvs.js"></script>

    <link rel="stylesheet" href=
            "https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
    <script>
        function saveData() {
            fillArray(document.getElementById("itemName").value,document.getElementById("itemCost").value,document.getElementById("itemQuantity").value,document.getElementById("datePicker").value)

            document.getElementById("budget_label").innerHTML = "budget remaining " + readBudget();
            $('#itemName').val("");
            $('#itemCost').val("");
            $('#itemQuantity').val("");
        }
        function setDateAndTime() {
            console.log("this is setDataAndTime dateValue: ",document.getElementById("date&time").value);
        }
        function setNewBudget()
        {

            setBudget(document.getElementById("datePicker").value,document.getElementById("budget").value);
            document.getElementById("budget").value = readBudget();
            document.getElementById("budget_label").innerHTML = "budget remaining " + readBudget();

        }
        function showBudget()
        {
        document.getElementById("budget").value = readBudget();
        }
    </script>

    <script id="" type="text/javascript" src="mainWindowjvs.js"></script>
    
    <script>
        function loadData(nameToLoad,costToLoad,quantityToLoad){
        fillArray(nameToLoad,costToLoad,quantityToLoad);
        console.log("nameToLoad: " + nameToLoad +" cost: "+ costToLoad +" quantity: "+ quantityToLoad)
        }
    </script>
    
    <script>
        $(document).ready(function () {
            let date = new Date();
            let d = date.getDate();
            let m = date.getMonth();
            let y = date.getFullYear();
            let minute = date.getMinutes();
            let hours = date.getHours();
            if(m < 10)
                m = "0" + m;
            if(d < 10)
                d = "0" + d;
            if(minute<10)
                minute = "0" + minute;
            if(hours<10)
                hours = "0" + hours;
            document.getElementById("datePicker").value =  y + "-" + m + "-" + d + "T" + hours + ":" + minute;

            document.getElementById("budget_label").innerHTML ="budget remaining " + readBudget();
        });
    </script>

</head>
<body>
<div data-role="page" id="home">
    <div data-role="header">
        <h1>
            Cost Manager
        </h1>
    </div>
<div data-role="content" align="center">
    <p>
    <a href="#entryPage" data-icon="plus" data-inline="true" data-role="button" id="lunchEntryPage" data-theme="a" >Enter new data</a>
    </p>
    <p>
    <a href="#setNewBudget" data-icon="plus" data-inline="true" data-role="button" id="lunchNewBudgetPage" onclick="showBudget()" data-theme="b">Change the budget</a>
    </p>
    <p>
    <a href="pieChartView.html" data-icon="info" data-inline="true" data-ajax="false" data-role="button" id="lunchGraph" data-theme="c">show data as a graph</a>
    </p>
    <p>
    <a href="transactionTable.html" data-icon="bars" data-inline="true" data-role="button" data-ajax="false" id="lunchTable" data-theme="e">show data as a table</a>
    </p>
</div>
    <div data-role="footer">
        Developed by Victoria Avrahamchik and Hanan Dorfman
    </div>
</div>

<div data-role="page" id="entryPage">
    <div data-role="header">
        <h1>
            New Data
        </h1>
    </div>
    <div data-role="content">
        <div align="center">
            <form name="inputForm" action="picChartView.html">
                <p>
                <label id="budget_label">budget remaining</label>


                </p>
                <label for="datePicker">pick date & time</label>
                <input type="datetime-local" id="datePicker" name="datePicker" value="">
                <p>
                    <label for="itemName">Name</label>
                    <input id="itemName" type="text">
                </p>
                <p>
                    <label for="itemCost">Cost</label>
                    <input id="itemCost" type="text">
                </p>
                <p>
                    <label for="itemQuantity">Quantity</label>
                    <input id="itemQuantity" type="text">
                </p>
                <p>

                    <button type="button" data-icon="plus" onclick="saveData()" data-ajax="false" data-theme="a">Save Transaction </button>

                    <a href="javascript: history.go(-1)" data-icon="back" data-inline="true"  data-theme="a" data-role="button">Back</a>
                </p>
            </form>
        </div>

    </div>
    <div data-role="footer">
            Developed by Victoria Avrahamchik and Hanan Dorfman
    </div>
</div>
<div data-role="page" id="setNewBudget">
    <div data-role="header">
        <h1>
            New budget
        </h1>
    </div>
    <div data-role="content">
        <div align="center">
            <p>
                <label for="budget">budget remaining(type new budget for reCalculating)</label>
                <input id="budget" type="text" name="entering a new budget will call for recalculating of the remaining budget">
                <a href="#" data-role="button" data-icon="shop" onclick="setNewBudget()" data-theme="e">change budget</a>
                <a href="javascript: history.go(-1)" data-icon="back" data-inline="true"  data-theme="a" data-role="button">Back</a>
            </p>
        </div>
    </div>
    <div data-role="footer">
        <h1>Developed by Victoria Avrahamchik and Hanan Dorfman</h1>
    </div>
</div>
</body>
</html>